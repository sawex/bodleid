{"version":3,"sources":["modules/classes/abstract.js","modules/mst/form-validation.js","modules/classes/account.js","modules/classes/comparing.js","modules/mst/smooth-anchors.js","modules/highlight-invalid.js","root.js"],"names":["Abstract","constructor","Error","isCart","document","querySelector","isShop","isSingle","isCheckout","isComparison","prototype","alert","message","wrapper","paragraph","classList","remove","innerHTML","setTimeout","window","scrollTo","top","behavior","highlightInvalidFields","formElements","invalidFields","errorMessages","forEach","input","field","add","length","footerFormErrorMessage","validateForm","form","validateOptions","formData","FormData","dataObj","entries","key","value","fields","push","count","Object","keys","result","data","Account","apply","arguments","loginForm","signupForm","accountForm","accountForms","querySelectorAll","userFieldsRules","billing_first_name","test","trim","billing_email","billing_phone","password","billing_address_1","billing_city","billing_postcode","userErrorMessages","accountMenu","create","initLoginForm","addEventListener","e","preventDefault","isValid","target","email","user_password","self","jQuery","ajax","type","url","mainState","ajaxUrl","action","success","resp","console","log","dataset","redirect","location","accountUrl","error","initSignupForm","initAccountForm","initAccountMenu","el","contains","link","href","setFormsCollapsing","title","toggle","init","Comparing","listenCompareBtns","id","parentElement","product_id","beforeSend","disabled","closest","compareLink","children","parseInt","innerText","span","createElement","className","appendChild","initComparisonRemoveBtns","i18n_comparingEmpty","setSingleCompareButton","i18n_inComparisonList","comparisonUrl","smoothAnchors","anchor","pageUrl","URL","hash","pathname","scrollIntoView","Main","hambButton","mobileMenu","mobileMenuWrapper","footerForm","formInputs","footerFormSuccessMessage","instructionVideoLinks","quantityContainers","quantityInputs","shopSliderContainer","shopSidebar","catalogProductWrappers","setAnimations","AOS","initHamburgerMenu","fixCatalogsTitle","initVideoViewer","BigPicture","vidSrc","setClientsSlider","slick","prevArrow","nextArrow","dots","appendDots","customPaging","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","responsive","breakpoint","settings","setTestimonialsSlider","slider","i","initFooterForm","name","phone","company","setFormFloatedLabels","checkLabel","setCartInputButtons","newValue","previousElementSibling","nextElementSibling","initShopSlider","arrows","setSingleInputButtons","plusBtn","minusBtn","setCloseModalButton","initShopSidebar","currentCat","parentCats","cat","fixInputsInCart","each","insertBefore","prev","unwrap","initCatalogProductSliders","initSlick","matchMedia","matches"],"mappings":"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","file":"common.js","sourceRoot":"","sourcesContent":["/**\n * @abstract\n * @constructor\n */\nconst Abstract = function() {\n  if (this.constructor === Abstract) {\n    throw new Error('Can\\'t instantiate abstract class!');\n  }\n\n  // Page tests\n  this.isCart = !!document.querySelector('.woocommerce-cart');\n  this.isShop = !!document.querySelector('.woocommerce-shop');\n  this.isSingle = !!document.querySelector('.single-product');\n  this.isCheckout = !!document.querySelector('.woocommerce-checkout');\n  this.isComparison = !!document.querySelector('.page-comparison');\n};\n\n/**\n * Shows WooCommerce-like notice in account and some shop pages\n *\n * @param {string} message Notice text\n */\nAbstract.prototype.alert = function(message = '') {\n  const wrapper = document.querySelector('.woocommerce-message--login-page');\n  const paragraph = document.querySelector('.woocommerce-message--login-page .woocommerce-message__text');\n\n  if (wrapper) {\n    wrapper.classList.remove('woocommerce-message--hidden');\n    paragraph.innerHTML = message;\n\n    setTimeout(() => {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    }, 300);\n\n  }\n};\n\n/**\n * Adds error class to invalid fields.\n *\n * @param {NodeList} formElements Form fields\n * @param {array} invalidFields Invalid fields\n * @param {object} errorMessages\n */\nAbstract.prototype.highlightInvalidFields = function(formElements, invalidFields, errorMessages = {}) {\n  formElements.forEach((input) => input.classList.remove('form__input--error'));\n  let message = '<ul>';\n\n  invalidFields.forEach((field) => {\n    const input = document.querySelector(`[name=${field}]`);\n    input.classList.add('form__input--error');\n\n    if (errorMessages[field]) {\n      message += `<li>${errorMessages[field]}</li>`;\n    }\n  });\n\n  message += '</ul>';\n\n  if (message.length > 9 && typeof this.alert === 'function') {\n    this.alert(message);\n  }\n\n  if (this.footerFormErrorMessage) {\n    this.footerFormErrorMessage.classList.add('form__error--is-active');\n  }\n};\n\nexport default Abstract;","/**\n * FORM VALIDATION FUNCTION\n *\n * Validates fields using options object and converts FormData iteration object\n * to usual JS Object in format:\n * { fieldName: fieldValue }\n *\n * @version 1.0.1\n *\n * @param {object} form Instance of FormData object.\n * @param {object} validateOptions Validation parameters.\n *\n * @return {object} Returns if form is true by validateOptions, returns false, if not.\n */\nconst validateForm = function(form, validateOptions = {}) {\n  const formData = new FormData(form);\n  const dataObj = {};\n  const invalidFields = [];\n\n  // Transform all form field to object and validate them if validation function is available\n  for (const field of formData.entries()) {\n    const key = field[0];\n    const value = field[1];\n\n    // If there is validation function for the field then execute it and save the result if negative\n    if (validateOptions.fields[key]) {\n      if (!validateOptions.fields[key](value)) {\n        invalidFields.push(key);\n      }\n    }\n\n    dataObj[key] = value;\n  }\n\n  // Make form invalid if some of fields missed\n  if (validateOptions.count && validateOptions.count !== Object.keys(dataObj).length) {\n    validateOptions.push('_invalidCount');\n  }\n\n  if (invalidFields.length) {\n    return {\n      result: false,\n      invalidFields,\n    };\n  } else {\n    return {\n      result: true,\n      data: dataObj,\n    };\n  }\n};\n\nexport default validateForm;","/* global mainState, jQuery */\n/**\n * ACCOUNT\n * Methods for work with account page, login and sign up forms\n *\n * @constructor\n */\nimport Abstract from './abstract.js';\nimport validateForm from '../mst/form-validation.js';\n\nconst Account = function() {\n  Abstract.apply(this, arguments);\n\n  // Forms\n  this.loginForm = document.querySelector('.login__form--login');\n  this.signupForm = document.querySelector('.login__new-client--signup');\n  this.accountForm = document.querySelector('.login__new-client--account');\n  this.accountForms = document.querySelectorAll('.login__form');\n\n  // Validation rules for \"Sign up\" and \"Update account data\" forms\n  this.userFieldsRules = {\n    fields: {\n      billing_first_name: (value) => {\n        return (\n          /^[ÁáÐðÉéÍíÓóÚúÝýÞþÆæÖöA-Za-z\\s]+$/.test(value.trim()) &&\n          value.trim().length &&\n          value.trim().length <= 20\n        );\n      },\n      billing_email: (value) => /\\S+@\\S+\\.\\S+/.test(value),\n      billing_phone: (value) => {\n        return (\n          /^[0-9]+$/.test(value.trim()) &&\n          value.trim().length &&\n          value.trim().length <= 12\n        );\n      },\n      password: (value) => value.trim().length > 6,\n      billing_address_1: (value) => value.trim().length,\n      billing_city: (value) => value.trim().length,\n      billing_postcode: (value) => value.trim().length,\n    }\n  };\n\n  // Validation errors for \"Sign up\" and \"Update account data\" forms\n  this.userErrorMessages = {\n    billing_first_name: 'First name field cannot be empty',\n    billing_email: 'Enter valid email address',\n    billing_phone: 'Phone number can contains digits only and cannot be longer than 12 digits',\n    password: 'Password cannot be shorter than 6 symbols',\n    billing_address_1: 'Address field name cannot be empty',\n    billing_city: 'City field name cannot be empty',\n    billing_postcode: 'Postcode field cannot be empty',\n  };\n\n  // Account\n  this.accountMenu = document.querySelector('.account__nav-list');\n};\n\nAccount.prototype = Object.create(Abstract.prototype);\nAccount.prototype.constructor = Account;\n\n/**\n * LOGIN FORM\n * Initialize form on login and checkout pages.\n * */\nAccount.prototype.initLoginForm = function() {\n  if (!this.loginForm) return;\n\n  this.loginForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const isValid = validateForm(e.target, {\n      fields: {\n        email: (value) => /\\S+@\\S+\\.\\S+/.test(value),\n        user_password: (value) => value.trim().length,\n      }\n    });\n\n    const errorMessages = {\n      email: 'Enter valid email address',\n      user_password: 'Enter your password',\n    };\n\n    if (isValid.result) {\n      const self = this;\n\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_login',\n          data: isValid.data,\n        },\n        success(resp) {\n          console.log(resp);\n          if (resp.success) {\n            if (e.target.dataset.redirect) {\n              location = e.target.dataset.redirect;\n            } else {\n              location = mainState.accountUrl;\n            }\n          } else {\n            self.alert(resp.data.error);\n          }\n        },\n      });\n    } else {\n      this.highlightInvalidFields(\n        e.target.querySelectorAll('.login__form--login .form__input'),\n        isValid.invalidFields,\n        errorMessages\n      );\n    }\n  });\n};\n\n/**\n * SIGN UP FORM\n * */\nAccount.prototype.initSignupForm = function() {\n  if (!this.signupForm) return;\n\n  this.signupForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const isValid = validateForm(e.target, this.userFieldsRules);\n\n    if (isValid.result) {\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_sign_up',\n          data: isValid.data,\n        },\n        success(resp) {\n          console.log(resp);\n          if (resp.success) {\n            location = mainState.accountUrl;\n          } else {\n            this.alert(resp.data.error);\n          }\n        },\n      });\n    } else {\n      this.highlightInvalidFields(\n        e.target.querySelectorAll('.login__new-client--signup .form__input'),\n        isValid.invalidFields,\n        this.userErrorMessages\n      );\n    }\n  });\n};\n\n/**\n * UPDATE ACCOUNT DATA FORM\n * */\nAccount.prototype.initAccountForm = function() {\n  if (!this.accountForm) return;\n\n  this.accountForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const isValid = validateForm(e.target, this.userFieldsRules);\n\n    if (isValid.result) {\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_update_account_data',\n          data: isValid.data,\n        },\n        success(resp) {\n          console.log(resp);\n          if (resp.success) {\n            location = mainState.accountUrl;\n          } else {\n            this.alert(resp.data.error);\n          }\n        },\n      });\n    } else {\n      this.highlightInvalidFields(\n        e.target.querySelectorAll('.login__new-client--signup .form__input'),\n        isValid.invalidFields,\n        this.userErrorMessages\n      );\n    }\n  });\n};\n\n/**\n * Sets up the account page sidebar menu.\n * */\nAccount.prototype.initAccountMenu = function() {\n  if (!this.accountMenu) return;\n\n  this.accountMenu.addEventListener('click', (e) => {\n    const el = e.target;\n\n    if (el.classList.contains('account__nav-link')) {\n      const links = this.accountMenu.querySelectorAll('a');\n\n      links.forEach((link) => link.classList.remove('account__nav-link--active'));\n      el.classList.add('account__nav-link--active');\n\n      if (el.dataset.href === 'orders') {\n        document.querySelector('.orders').classList.remove('hidden');\n        document.querySelector('.account-data-container').classList.add('hidden');\n      }\n\n      if (el.dataset.href === 'account') {\n        document.querySelector('.orders').classList.add('hidden');\n        document.querySelector('.account-data-container').classList.remove('hidden');\n      }\n    }\n  });\n};\n\n/**\n * Sets up form collapsing on form title clicking.\n * */\nAccount.prototype.setFormsCollapsing = function() {\n  if (!this.accountForms.length) return;\n\n  this.accountForms.forEach((form) => {\n    const title = form.querySelector('.login__title');\n\n    title.addEventListener('click', () => {\n      form.classList.toggle('collapsed');\n      title.classList.toggle('login__title--active');\n    });\n  });\n};\n\nAccount.prototype.init = function() {\n  this.initLoginForm();\n  this.initSignupForm();\n  this.initAccountForm();\n  this.initAccountMenu();\n  this.setFormsCollapsing();\n};\n\nexport default Account;","/* global mainState, jQuery */\n/**\n * COMPARING\n * Methods for work with product comparing\n *\n * @constructor\n */\nimport Abstract from './abstract.js';\n\nconst Comparing = function() {\n  Abstract.apply(this, arguments);\n};\n\nComparing.prototype = Object.create(Abstract.prototype);\nComparing.prototype.constructor = Comparing;\n\nComparing.prototype.listenCompareBtns = function() {\n  if (!document.querySelector('.compare-btn')) return;\n\n  document.addEventListener('click', (e) => {\n    const el = e.target;\n\n    if (el.classList.contains('compare-btn') && !el.classList.contains('compare-btn--active')) {\n      const id = el.parentElement.parentElement.dataset.id;\n\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_add_to_comparing',\n          data: {\n            product_id: id,\n          },\n        },\n        beforeSend() {\n          el.disabled = true;\n        },\n        success(resp) {\n          if (resp.success) {\n            el.classList.add('compare-btn--active');\n            el.closest('.product-item').classList.add('header__user-list--active');\n\n            const compareLink = document.querySelector('.header__comparison-link');\n\n            compareLink.classList.add('heartBeat');\n            setTimeout(() => compareLink.classList.remove('heartBeat'), 1300);\n\n            if (compareLink.children[1]) {\n              const value = parseInt(compareLink.children[1].innerText);\n              compareLink.children[1].innerText = value + 1;\n            } else {\n              const span = document.createElement('span');\n\n              span.className = 'quantity-product-circle';\n              span.innerText = '1';\n\n              compareLink.appendChild(span);\n            }\n          }\n\n          el.disabled = false;\n        }\n      });\n    }\n\n    if (el.classList.contains('compare-btn') && el.classList.contains('compare-btn--active')) {\n      const id = el.parentElement.parentElement.dataset.id;\n\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_remove_from_comparing',\n          data: {\n            product_id: id,\n          },\n        },\n        beforeSend() {\n          el.disabled = true;\n        },\n        success(resp) {\n          if (resp.success) {\n            el.classList.remove('compare-btn--active');\n            el.closest('.product-item').classList.remove('header__user-list--active');\n\n            const compareLink = document.querySelector('.header__comparison-link');\n            const value = parseInt(compareLink.children[1].innerText);\n\n            compareLink.classList.add('heartBeat');\n            setTimeout(() => compareLink.classList.remove('heartBeat'), 2000);\n\n            if (value - 1) {\n              compareLink.children[1].innerText = value - 1;\n            } else {\n              compareLink.children[1].remove();\n            }\n          }\n\n          el.disabled = false;\n        }\n      });\n    }\n\n  });\n};\n\nComparing.prototype.initComparisonRemoveBtns = function() {\n  if (!this.isComparison) return;\n\n  document.addEventListener('click', (e) => {\n    if (e.target.classList.contains('compare__remove-bnt')) {\n      const id = e.target.parentElement.dataset.id;\n\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_remove_from_comparing',\n          data: {\n            product_id: id,\n          },\n        },\n        success(resp) {\n          if (resp.success) {\n            document.querySelectorAll(`[data-product-id=\"${id}\"]`).forEach(el => el.remove());\n\n            if (!document.querySelector('[data-product-id]')) {\n              document.querySelector('.compare__table').remove();\n              document.querySelector('.compare__table-wrap').innerHTML = `\n               <div class=\"search__result-title-box\">\n                <h2 class=\"secondary-title search__result-title\">\n                  ${mainState.i18n_comparingEmpty}\n                </h2>\n              </div>\n              `;\n              document.querySelector('.compare__table-wrap').classList.remove('compare__table-wrap');\n\n              window.scrollTo({\n                top: 0,\n                behavior: 'smooth'\n              });\n            }\n\n            const compareLink = document.querySelector('.header__comparison-link');\n            const value = parseInt(compareLink.children[1].innerText);\n\n            compareLink.classList.add('heartBeat');\n            setTimeout(() => compareLink.classList.remove('heartBeat'), 2000);\n\n            if (value - 1) {\n              compareLink.children[1].innerText = value - 1;\n            } else {\n              compareLink.children[1].remove();\n            }\n          }\n        },\n      });\n    }\n  });\n};\n\nComparing.prototype.setSingleCompareButton = function() {\n  if (!this.isSingle) return;\n\n  document.addEventListener('click', (e) => {\n    const el = e.target;\n\n    if (el.classList.contains('one-product__compare-link') &&\n      !el.classList.contains('one-product__compare-link--active')) {\n      const id = e.target.dataset.id;\n\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_add_to_comparing',\n          data: {\n            product_id: id,\n          },\n        },\n        success(resp) {\n          if (resp.success) {\n            el.innerText = mainState.i18n_inComparisonList;\n            el.href = mainState.comparisonUrl;\n            el.classList.add('one-product__compare-link--active');\n\n            const compareLink = document.querySelector('.header__comparison-link');\n\n            compareLink.classList.add('heartBeat');\n            setTimeout(() => compareLink.classList.remove('heartBeat'), 1300);\n\n            if (compareLink.children[1]) {\n              const value = parseInt(compareLink.children[1].innerText);\n              compareLink.children[1].innerText = value + 1;\n            } else {\n              const span = document.createElement('span');\n\n              span.className = 'quantity-product-circle';\n              span.innerText = '1';\n\n              compareLink.appendChild(span);\n            }\n          }\n        }\n      });\n    }\n  });\n};\n\n\nComparing.prototype.init = function() {\n  // Archive\n  this.listenCompareBtns();\n\n  // Single product\n  this.setSingleCompareButton();\n\n  // Comparing page\n  this.initComparisonRemoveBtns();\n};\n\nexport default Comparing;","/**\n * Smooth scroll to an anchor target\n *\n * @version 1.0.2\n * @package Maximumstart\n */\nconst smoothAnchors = function() {\n  document.querySelectorAll('a[href*=\"#\"]').forEach(anchor => {\n    anchor.addEventListener('click', function(e) {\n      e.preventDefault();\n\n      const pageUrl = new URL(document.URL);\n      const url = new URL(anchor.href);\n      const hash = url.hash;\n\n      if (hash === '#') return;\n\n      if (url.pathname === pageUrl.pathname) {\n        const target = document.querySelector(hash);\n\n        if (target) {\n          target.scrollIntoView({\n            behavior: 'smooth',\n          });\n        }\n      } else {\n        location = url.href;\n      }\n    });\n  });\n};\n\nexport default smoothAnchors;","/**\n * Adds error class to invalid fields.\n *\n * @param {NodeList} formElements Form fields\n * @param {array} invalidFields Invalid fields\n * @param {object} errorMessages\n */\nconst highlightInvalidFields = function(formElements, invalidFields, errorMessages = {}) {\n  formElements.forEach((input) => input.classList.remove('form__input--error'));\n  let message = '<ul>';\n\n  invalidFields.forEach((field) => {\n    const input = document.querySelector(`[name=${field}]`);\n    input.classList.add('form__input--error');\n\n    if (errorMessages[field]) {\n      message += `<li>${errorMessages[field]}</li>`;\n    }\n  });\n\n  message += '</ul>';\n\n  if (message.length > 9 && typeof this.alert === 'function') {\n    this.alert(message);\n  }\n\n  if (this.footerFormErrorMessage) {\n    this.footerFormErrorMessage.classList.add('form__error--is-active');\n  }\n};\n\nexport default highlightInvalidFields;","/* global jQuery, AOS, mainState */\n\nimport Abstract from './modules/classes/abstract.js';\nimport Account from './modules/classes/account.js';\nimport Comparing from './modules/classes/comparing.js';\n\nimport smoothAnchors from './modules/mst/smooth-anchors.js';\nimport validateForm from './modules/mst/form-validation.js';\nimport highlightInvalidFields from './modules/highlight-invalid.js';\n\n/**\n* @constructor\n* */\nconst Main = function() {\n  Abstract.apply(this, arguments);\n\n  // Header\n  this.hambButton = document.querySelector('.hamburger');\n  this.mobileMenu = document.querySelector('.header__mobile-menu');\n  this.mobileMenuWrapper = document.querySelector('.mobile-menu-wrapper');\n\n  // Footer\n  this.footerForm = document.querySelector('form.form');\n  this.formInputs = document.querySelectorAll('.form__input');\n  this.footerFormErrorMessage = document.querySelector('.form__error');\n  this.footerFormSuccessMessage = document.querySelector('.form__success');\n\n  // Instructions\n  this.instructionVideoLinks = document.querySelectorAll('.main-instructions__video');\n\n  // Cart\n  this.quantityContainers = document.querySelectorAll('.product-quantity');\n  this.quantityInputs = document.querySelectorAll('.qty');\n\n  // Shop\n  this.shopSliderContainer = document.querySelector('.custom-banner__slider');\n  this.shopSidebar = document.querySelector('.widget_product_categories');\n\n  this.catalogProductWrappers = document.querySelectorAll('.category-product__product-list');\n};\n\nMain.prototype = Object.create(Abstract.prototype);\nMain.prototype.constructor = Main;\n\nMain.prototype.smoothAnchors = smoothAnchors;\n\nMain.prototype.setAnimations = function() {\n  if (typeof AOS === 'function') {\n    AOS.init();\n  }\n};\n\nMain.prototype.initHamburgerMenu = function() {\n  this.hambButton.addEventListener('click', () => {\n    this.hambButton.classList.toggle('is-active');\n    this.mobileMenu.classList.toggle('header__mobile-menu--visible');\n    this.mobileMenuWrapper.classList.toggle('mobile-menu-wrapper--pos');\n  });\n};\n\nMain.prototype.fixCatalogsTitle = function() {\n  const title = document.querySelector('.catalog__title, .widget_product_categories h2');\n\n  if (title && title.innerText.trim() === 'Vöruflokkar') {\n    title.innerHTML = 'Vöru<span style=\"margin-right: 1.1px;\">f</span>lokkar';\n  }\n};\n\nMain.prototype.initVideoViewer = function() {\n  if (this.instructionVideoLinks.length && typeof BigPicture === 'function') {\n    this.instructionVideoLinks.forEach((link) => {\n      link.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        BigPicture({\n          el: link,\n          vidSrc: link.href,\n        });\n      });\n    });\n  }\n};\n\nMain.prototype.setClientsSlider = function() {\n  if (typeof jQuery === 'function') {\n    jQuery('.clients__list').slick({\n      prevArrow: '',\n      nextArrow: '',\n      dots: true,\n      appendDots: jQuery('.clients__carousel-buttons'),\n      customPaging() {\n        return '<button class=\"clients__carousel-btn\"></button>';\n      },\n      slidesToShow: 6,\n      slidesToScroll: 6,\n      autoplay: true,\n      autoplaySpeed: 5000,\n      responsive: [\n        {\n          breakpoint: 992,\n          settings: {\n            slidesToShow: 4,\n            slidesToScroll: 4,\n          }\n        },\n        {\n          breakpoint: 575,\n          settings: {\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            dots: false,\n          }\n        }\n      ],\n    });\n  }\n};\n\nMain.prototype.setTestimonialsSlider = function() {\n  if (typeof jQuery === 'function') {\n    jQuery('.testimonials__reviews').slick({\n      prevArrow: '',\n      nextArrow: '',\n      dots: true,\n      appendDots: jQuery('.testimonials__buttons'),\n      customPaging: function (slider, i) {\n        if (i < 10) {\n          i = `0${i + 1}`;\n        }\n        return `<button class=\"testimonials__btn\" data-count=\"${i}\"></button>`;\n      },\n      slidesToShow: 2,\n      slidesToScroll: 2,\n      autoplay: true,\n      autoplaySpeed: 5000,\n      responsive: [\n        {\n          breakpoint: 575,\n          settings: {\n            slidesToShow: 1,\n            slidesToScroll: 1,\n          }\n        }\n      ],\n    });\n  }\n};\n\nMain.prototype.initFooterForm = function() {\n  this.footerForm.addEventListener('submit', (e) => {\n    e.preventDefault();\n\n    const isValid = validateForm(e.target, {\n      fields: {\n        name: (value) => {\n          return (\n            /^[ÁáÐðÉéÍíÓóÚúÝýÞþÆæÖöA-Za-z\\s]+$/.test(value.trim()) &&\n            value.trim().length &&\n            value.trim().length <= 20\n          );\n        },\n        phone: (value) => {\n          return (\n            /^[0-9]+$/.test(value.trim()) &&\n            value.trim().length &&\n            value.trim().length <= 12\n          );\n        },\n        email: (value) => /\\S+@\\S+\\.\\S+/.test(value),\n        company: (value) => value.trim().length && value.trim().length <= 20,\n        message: (value) => value.trim().length <= 200,\n      }\n    });\n\n    if (isValid.result) {\n      const self = this;\n\n      jQuery.ajax({\n        type: 'POST',\n        url: mainState.ajaxUrl,\n        data: {\n          action: 'mst_bodleid_cb',\n          data: isValid.data,\n        },\n        success() {\n          self.footerForm.remove();\n          self.footerFormSuccessMessage.classList.remove('hidden');\n        },\n      });\n    } else {\n      highlightInvalidFields(this.formInputs, isValid.invalidFields);\n    }\n  });\n};\n\nMain.prototype.setFormFloatedLabels = function() {\n  const checkLabel = (input) => {\n    if (!input.value) {\n      input.classList.remove('form__input-filled');\n    } else {\n      input.classList.add('form__input-filled');\n    }\n  };\n\n  this.formInputs.forEach((input) => {\n    // Check if values are on page loading (e.g. if user wrote something in input and reloaded page)\n    checkLabel(input);\n\n    input.addEventListener('change', () => {\n      checkLabel(input);\n    });\n  });\n};\n\nMain.prototype.setCartInputButtons = function() {\n  if (!this.isCart) return;\n\n  document.addEventListener('click', (e) => {\n    const el = e.target;\n\n    if (el.classList.contains('one-product__btn--plus')) {\n      e.preventDefault();\n\n      const newValue = parseInt(el.previousElementSibling.children[1].value) + 1;\n      el.previousElementSibling.children[1].value = newValue;\n\n      if (document.querySelector('button[name=\"update_cart\"]')) {\n        document.querySelector('button[name=\"update_cart\"]').disabled = false;\n      }\n    }\n\n    if (el.classList.contains('one-product__btn--minus')) {\n      e.preventDefault();\n\n      const newValue = parseInt(el.nextElementSibling.children[1].value) - 1;\n\n      if (newValue <= 0) {\n        el.nextElementSibling.children[1].value = 0;\n        return;\n      }\n\n      el.nextElementSibling.children[1].value = newValue;\n\n      if (document.querySelector('button[name=\"update_cart\"]')) {\n        document.querySelector('button[name=\"update_cart\"]').disabled = false;\n      }\n    }\n\n  });\n\n  this.quantityInputs.forEach((input) => {\n    input.addEventListener('change', () => {\n      if (parseInt(input.value) === 0) {\n        input.parentElement.nextElementSibling.classList.add('one-product__btn--inactive');\n      } else {\n        input.parentElement.nextElementSibling.classList.remove('one-product__btn--inactive');\n      }\n    });\n  });\n};\n\nMain.prototype.initShopSlider = function() {\n  if (!this.shopSliderContainer) return;\n\n  jQuery('.custom-banner__slider').slick({\n    arrows: false,\n    dots: true,\n    appendDots: jQuery('.custom-banner__nav-list'),\n    customPaging: function (slider, i) {\n      if (i < 10) {\n        i = `0${i + 1}`;\n      }\n      return `<button class=\"custom-banner__nav-btn\" data-count=\"${i}\"></button>`;\n    },\n  });\n};\n\nMain.prototype.setSingleInputButtons = function() {\n  if (!this.isSingle) return;\n\n  const plusBtn = document.querySelector('.one-product__btn--plus');\n  const minusBtn = document.querySelector('.one-product__btn--minus');\n\n  if (plusBtn) {\n    plusBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n\n      const el = e.target;\n      const newValue = parseInt(el.previousElementSibling.children[1].value) + 1;\n\n      el.previousElementSibling.children[1].value = newValue;\n    });\n  }\n\n  if (minusBtn) {\n    minusBtn.addEventListener('click', (e) => {\n      e.preventDefault();\n\n      const el = e.target;\n      const newValue = parseInt(el.nextElementSibling.children[1].value) - 1;\n\n      if (newValue <= 0) {\n        el.nextElementSibling.children[1].value = 1;\n        return;\n      }\n\n      el.nextElementSibling.children[1].value = newValue;\n    });\n\n  }\n};\n\nMain.prototype.setCloseModalButton = function() {\n  document.addEventListener('click', (e) => {\n    if (e.target.classList.contains('w-close-btn')) {\n      e.target.parentElement.remove();\n    }\n  });\n};\n\nMain.prototype.initShopSidebar = function() {\n  if (!this.shopSidebar) return;\n\n  const currentCat = document.querySelector('li.current-cat');\n  const parentCats = document.querySelectorAll('li.cat-parent > a');\n\n  if (currentCat) {\n    currentCat.classList.add('cat-parent--active');\n  }\n\n  parentCats.forEach((cat) => {\n    cat.addEventListener('click', (e) => {\n      e.preventDefault();\n\n      cat.parentElement.classList.toggle('cat-parent--active');\n    });\n  });\n};\n\nMain.prototype.fixInputsInCart = function() {\n  if (!this.isCheckout) return;\n\n  jQuery('.woocommerce-input-wrapper').each(function() {\n    jQuery(this).insertBefore(jQuery(this).prev())\n  });\n\n  jQuery('.login__new-client--checkout .form__input').unwrap();\n};\n\nMain.prototype.initCatalogProductSliders = function() {\n  if (!this.catalogProductWrappers) return;\n\n  const initSlick = () => {\n    if (typeof jQuery !== 'function') return;\n\n    jQuery('.category-product__product-list').slick({\n      prevArrow: '',\n      nextArrow: '',\n      dots: false,\n      slidesToShow: 2,\n      slidesToScroll: 2,\n      autoplay: true,\n      autoplaySpeed: 5000,\n      responsive: [\n        {\n          breakpoint: 575,\n          settings: {\n            slidesToShow: 1,\n            slidesToScroll: 1,\n          }\n        }\n      ],\n    });\n  };\n\n  if (window.matchMedia('(max-width: 992px)').matches) {\n    initSlick();\n  }\n\n  window.addEventListener('resize', () => {\n    if (window.matchMedia('(max-width: 992px)').matches) {\n      initSlick();\n    } else {\n      jQuery('.category-product__product-list').slick('unslick');\n    }\n  });\n};\n\nMain.prototype.init = function() {\n  this.initHamburgerMenu();\n  this.setAnimations();\n  this.smoothAnchors();\n  this.fixCatalogsTitle();\n  this.initVideoViewer();\n  this.initFooterForm();\n  this.setClientsSlider();\n  this.setTestimonialsSlider();\n  this.setFormFloatedLabels();\n\n  this.setCartInputButtons();\n\n  this.initShopSlider();\n  this.initShopSidebar();\n\n  this.setSingleInputButtons();\n  this.setCloseModalButton();\n\n  this.fixInputsInCart();\n  this.initCatalogProductSliders();\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const m = new Main;\n  m.init();\n\n  const a = new Account;\n  a.init();\n\n  const c = new Comparing;\n  c.init();\n});"]}